@page "/awards"
@using NBALigaSimulation.Shared.Dtos.Players

<PageTitle>Awards</PageTitle>

<div class="awards-page container py-4">
    <div class="awards-header mb-4">
        <h1 class="h3 mb-1"><i class="bi bi-trophy me-2"></i>Awards</h1>
        <p class="text-muted mb-0">Histórico de prêmios da liga</p>
    </div>

    @if (_isLoading)
    {
        <div class="text-center py-5">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Carregando...</span>
            </div>
            <p class="mt-2 text-muted">Carregando awards...</p>
        </div>
    }
    else if (_awards == null || !_awards.Any())
    {
        <div class="alert alert-info" role="alert">
            <i class="bi bi-info-circle me-2"></i>
            Nenhum award encontrado ainda. Os awards são gerados após o término da temporada regular.
        </div>
    }
    else
    {
        <div class="awards-content">
            @foreach (var awardGroup in _awardsBySeason)
            {
                <div class="award-season-section mb-5">
                    <h2 class="award-season-title">@awardGroup.Key</h2>
                    <div class="table-responsive">
                        <table class="table table-striped table-hover awards-table">
                            <thead>
                                <tr>
                                    <th>Award</th>
                                    <th>Jogador</th>
                                    <th>Time</th>
                                    <th>PPG</th>
                                    <th>RPG</th>
                                    <th>APG</th>
                                    <th>SPG</th>
                                    <th>BPG</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var award in awardGroup.Value)
                                {
                                    <tr>
                                        <td class="award-name-cell">
                                            <strong>@award.Award</strong>
                                        </td>
                                        <td class="player-name-cell">@award.PlayerName</td>
                                        <td>@award.Team</td>
                                        <td>@FormatStat(award.Ppg)</td>
                                        <td>@FormatStat(award.Rpg)</td>
                                        <td>@FormatStat(award.Apg)</td>
                                        <td>@FormatStat(award.Spg)</td>
                                        <td>@FormatStat(award.Bpg)</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            }
        </div>
    }
</div>
