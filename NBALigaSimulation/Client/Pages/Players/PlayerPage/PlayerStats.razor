@using NBALigaSimulation.Client.Utilities

<div class="table-container">
    @if (_loading)
    {
        <div class="text-center p-4">
            <div class="spinner-border text-primary" role="status"></div>
            <p class="mt-2 text-muted">Carregando estat√≠sticas...</p>
        </div>
    }
    else if (_regularStats != null && _regularStats.Any())
    {
        <div class="table-responsive-custom">
            <table class="table-modern">
                <caption class="caption-modern">Regular Season Stats</caption>
                <thead>
                <tr>
                    @foreach (var th in _stats)
                    {
                        <th>@th</th>
                    }
                </tr>
                </thead>
                <tbody>
                @foreach (var stats in _regularStats)
                {
                    <tr>
                        <td data-label="Season">@stats.Season</td>
                        <td data-label="Age">@Util.Age(@stats.Season, _player.Born.Year)</td>
                        <td data-label="Team"><img src=@($"../Images/Logos/{stats.TeamAbrv}.svg") alt="Team logo" class="team-logo"/></td>
                        <td data-label="Games">@stats.Games</td>
                        <td data-label="GS">@stats.Gs</td>
                        <td data-label="MIN">@stats.MinPG</td>
                        <td data-label="FGA">@stats.FgaPG</td>
                        <td data-label="FG">@stats.FgPG</td>
                        <td data-label="FG%">@stats.FgPct</td>
                        <td data-label="3PA">@stats.TpaPG</td>
                        <td data-label="3P">@stats.TpPG</td>
                        <td data-label="3P%">@stats.TpPct</td>
                        <td data-label="FTA">@stats.FtaPG</td>
                        <td data-label="FT">@stats.FtPG</td>
                        <td data-label="FT%">@stats.FtPct</td>
                        <td data-label="ORB">@stats.ORebPG</td>
                        <td data-label="DRB">@stats.DRebPG</td>
                        <td data-label="TRB">@stats.TRebPG</td>
                        <td data-label="AST">@stats.AstPG</td>
                        <td data-label="TOV">@stats.TovPG</td>
                        <td data-label="STL">@stats.StlPG</td>
                        <td data-label="BLK">@stats.BlkPG</td>
                        <td data-label="PF">@stats.PfPG</td>
                        <td data-label="PTS">@stats.PtsPG</td>
                        <td data-label="PER">@stats.PER</td>
                    </tr>
                }
                </tbody>
            </table>
        </div>

        <div class="table-responsive-custom" style="margin-top: 2rem;">
            <table class="table-modern">
                <caption class="caption-modern">Regular Season Shot Locations</caption>
                <thead>
                <tr>
                    @foreach (var th in _locations)
                    {
                        <th>@th</th>
                    }
                </tr>
                </thead>
                <tbody>
                @foreach (var stats in _regularStats)
                {
                    <tr>
                        <td data-label="Season">@stats.Season</td>
                        <td data-label="Age">@Util.Age(@stats.Season, _player.Born.Year)</td>
                        <td data-label="Team"><img src=@($"../Images/Logos/{stats.TeamAbrv}.svg") alt="Team logo" class="team-logo"/></td>
                        <td data-label="Games">@stats.Games</td>
                        <td data-label="GS">@stats.Gs</td>
                        <td data-label="MIN">@stats.MinPG</td>
                        <td data-label="FGA Rim">@stats.FgaAtRim</td>
                        <td data-label="FG Rim">@stats.FgAtRim</td>
                        <td data-label="FG% Rim">@stats.FgAtRimPct</td>
                        <td data-label="FGA LP">@stats.FgaLowPost</td>
                        <td data-label="FG LP">@stats.FgLowPost</td>
                        <td data-label="FG% LP">@stats.FgLowPostPct</td>
                        <td data-label="FGA MR">@stats.FgaMidRange</td>
                        <td data-label="FG MR">@stats.FgMidRange</td>
                        <td data-label="FG% MR">@stats.FgMidRangePct</td>
                        <td data-label="3PA">@stats.Tpa</td>
                        <td data-label="3P">@stats.Tp</td>
                        <td data-label="3P%">@stats.TpPct</td>
                    </tr>
                }
                </tbody>
            </table>
        </div>
    }
    else
    {
        <div class="text-center p-4">
            <p>No regular season stats available for this player.</p>
        </div>
    }
</div>


